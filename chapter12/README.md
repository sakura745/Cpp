## 1.运算符重载
`operatorOverload.cc`
- 重载不能改变运算的结合性和优先级，为了可读性，不改变运算的含义
- 函数参与个数与运算符操作个数相同，至少一个为**类**类型
- `operator()`可以有缺省参数，其他重载不可以有
- 可以实现为成员函数和非成员函数 （成员函数会以`*this`作为第**一**个操作数，`==`和`<=>`除外）

[可以实现重载的运算符](https://en.cppreference.com/w/cpp/language/operators)

实际上多使用于友元函数的类内定义：友元函数可以解除访问权限，用于非成员函数的运算符重载
- 因为成员函数第一个参数是`*this`，对称运算符重载(`+`等)定义为非成员函数。
- 移位运算符（输入输出流）要定义为非成员函数，因为第一个参数为流类型。
- 赋值运算符（其实就是拷贝赋值函数）也可以接受一般参数
- `operator[]`通常函数返回引用类型（因为可读可写）
- `operator++`前后缀自增 : 通过参数是否有`int`来区分的
 
`operatorOverload2.cc`
- 使用解引用`*`
- 成员访问运算符`->`模仿指针行为:递归行为，会一直找，直到找到指针为止
- 运算符`.`不能重载
- 使用函数调用运算符`()`构造可调用对象
  
类型转换运算符：`operator type() const`

重载运算符`==`，对于c17来说，不能重载`==`之后使用`!=`运算符；但是c20可以。
但是不能通过重载运算符`!=`来使用`==`

c20对`==` `!=` `<=>`有**隐式交换操作数**的特性，可以不将比较操作符设置为友元
## 2.类继承
`inheritance.cc`
派生类**是一个**基类。 只要有派生类的构建，一直围绕着这一性质展开的。（而组合表示**有一个**）

通常采用`public`继承

继承是指一个类（称为派生类或子类）可以继承另一个类（称为基类或父类）的特性和行为。通过类的继承（派生）来引入**是一个**的关系

![inheritance](https://github.com/sakura745/Picx_image_host/raw/master/20231009/inheritance.50svq36wojc0.png)

Triangle **is a** Shape，Right Triangle **is a** Triangle，**is** also **a** Shape。

**是一个** 表现在使用基类的指针或引用可以指向派生的对象上

`protected` = `private` + 派生

`inheritance2.cc`
派生类所在的域位于基类的内部

在派生类中可以直接调用基类的构造函数，而不是用域操作符

派生类构造构造函数时，最好用初始化列表显式调用基类的构造函数。会避免潜在问题
### 虚函数
`virtualFunction.cc`
非静态、非构造函数可以声明为虚函数

虚函数是通过**vtable**实现**动态绑定**

![vtable](https://github.com/sakura745/Picx_image_host/raw/master/20231010/vtable.49dz5ft46v40.3y4az26w1u80.webp)

**纯虚函数**的意义是建立一个vtable，以便派生类对虚函数进行重写。
该类称之为**抽象基类**，不能**声明**基类的对象，可以**声明**指针或引用

纯虚函数可以有定义，但是只能类外定义。意义不大

**函数签名**包含函数返回类型、函数名和形参。
派生类中的重写，函数签名不改变（有一种例外）。`override`保证虚函数因重写失败，编译器会报错。

`virtualFunction2.cc`

虚函数的运行期行为：
- 缺省实参只考虑静态类型，而不考虑动态类型
- 调用成本很高，因为要构建vtable
- 析构函数为虚函数：在 通过基类指针指向派生类的对象 情况下

`specialFunction.cc`

对于派生类来说，**编译器合成**(`default`)的特殊函数（构造、拷贝、移动、析构），都会隐式调用基类上对应的函数；
一般函数（单参构造）会调用缺省构造函数。**自定义**的函数，如果没有显式定义初始化列表，则也会隐式调用缺省构造函数。

`supplymentary.cc`
- 绝大多数都是`public`继承
- `using`可以在派生类中改变基类访问权限，可以改变成员和函数。但无法改变构造函数

继承与友元：友元关系不能继承，但是可以。权限有传递性，但友元在派生和基类中没有传递性

通过基类指针实现在容器中保存不同类型

多重继承与虚继承

空基类优化和[[no_unique_address]]